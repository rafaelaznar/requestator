<div class="container">
  <div class="py-5 text-center">
    <h1>Welcome to the requestator machine</h1>
    <h2>An API automatic pollster</h2>
  </div>
  <div class="row justify-content-around">
    <div class="col-4 m-4">

      <div class="my-3">
        <label for="formFile" class="form-label" *ngIf="!fileText">Please, load script</label>
        <input class="form-control" type="file" accept='text/plain' id="formFile" (change)="readFile($event)">
      </div>

      <div class="input-group my-3" *ngIf="fileText">
        <span class="input-group-text" id="basic-addon3">URL BASE</span>
        <input type="text" class="form-control" id="basic-url" aria-describedby="basic-addon3" disabled readonly
          [value]="urlBase">
      </div>

      <div class="form-check my-3" *ngIf="fileText">
        <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" [checked]="withCredentials==true"
          readonly>
        <label class="form-check-label" for="flexCheckChecked">
          With Credentials
        </label>
      </div>

      <a class="btn btn-primary mx-2 my-3" (click)="runTests2()" *ngIf="fileText">
        <i class="lni lni-play"></i> Run Tests
      </a>

      <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal"
        (click)="showScript()" *ngIf="fileText">
        <i class="lni lni-empty-file"></i> Show Script
      </button>

    </div>
  </div>
  <div class="row justify-content-around">
    <div class="col-6 m-4">
      <div [innerHTML]="output"></div>
      
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">REQUESTATOR (showing script)</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <pre>{{JSON.stringify(jsonParsed,undefined,2)}}</pre>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>